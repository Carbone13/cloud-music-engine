function updateUser(t,a){loading(),$("#error-div").empty();var e=base_url+"backend/updateUser?m="+a;return $.post(e,$(t).serialize(),function(t,a,e){t.error&&$("#error-div").html("<div class='alert alert-warning'>"+t.error+"</div>"),t.success?$("#error-div").html("<div class='alert alert-success'>"+t.success+"</div>"):t.profile&&(location.href=t.profile,current_page=""),loading("hide")},"json"),!1}function hhmmss(t){var a=parseInt(t,10),e=Math.floor(a/3600),i=Math.floor((a-3600*e)/60),n=a-3600*e-60*i;10>e&&(e="0"+e),10>i&&(i="0"+i),10>n&&(n="0"+n);var l=i+":"+n;return l}function set_page(t){app.last_search="",history.pushState(null,null,t),load_page(t)}function load_page(t,a){return hxr_load&&hxr_load.abort(),current_page==t?!1:(current_page=t,loading(),_log("Loading Page => "+t),$("html, body").scrollTop(0),settings.ga&&(console.log("ga"),_gaq.push(["_trackPageview",t])),ads_restart(),void(hxr_load=$.ajax({url:t,success:function(t){$("#main .c-m").empty(),$("#main .c-m").html(t),loading("hide"),$(document).trigger("page-loaded"),$("#wrapper").removeClass("toggled"),$("#main").scrollTop(0)},error:function(){_log("Error 404 => "+t),loading("hide"),a||(current_page="",load_page(t,!0))},timeout:15e3})))}function ads_restart(){try{$(".adsbygoogle").html(""),adsbygoogle=!1,window.adsbygoogle=!1,window.google_unique_id=!1,window.google_ad_modifications=!1,window.google_adk2_experiment=!1,window.google_async_config=!1,window.google_correlator=!1,window.google_dre=!1,window.google_exp_persistent=!1,window.google_global_correlator=!1,window.google_iframe_oncopy=!1,window.google_jobrunner=!1,window.google_mc2_survey_registry=!1,window.google_num_0ad_slots=!1,window.google_ad_modifications=!1,window.google_num_ad_slots=!1,window.google_num_reactive_ad_slots=!1,window.google_num_sdo_slots=!1,window.google_num_slot_to_show=!1,window.google_num_slots_by_channel=!1,window.google_onload_fired=!1,window.google_persistent_state=!1,window.google_persistent_state_async=!1,window.google_reactive_ads_global_state=!1,window.google_pubvars_reuse_experiment=!1,window.google_prev_ad_slotnames_by_region=!1,window.google_prev_ad_formats_by_region=!1,window.google_predictive_sra_request_sent=!1,$(".adsbygoogle").remove()}catch(t){}}function _log(t){console.log(t)}function loading(t){t?($("#loading-overlay").addClass("hide"),$("#loading").addClass("hide")):($("#loading-overlay").removeClass("hide"),$("#loading").removeClass("hide"))}function PopupCenter(t,a,e,i){var n=void 0!=window.screenLeft?window.screenLeft:screen.left,l=void 0!=window.screenTop?window.screenTop:screen.top,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,o=r/2-e/2+n,c=s/2-i/2+l,d=window.open(t,a,"scrollbars=yes, width="+e+", height="+i+", top="+c+", left="+o);window.focus&&d.focus()}function loadCSS(t,a,e){"use strict";var i=window.document.createElement("link"),n=a||window.document.getElementsByTagName("script")[0];i.rel="stylesheet",i.href=t,i.media="only x",n.parentNode.insertBefore(i,n),setTimeout(function(){i.media=e||"all"})}var listen_click="click",listen_touch="click",temp_title="",is_youtube=!1,player={},gui={};player.playlist=[],player.current={},player.status={},player.station={},player.station.current={},player.station.timemout=!1,player.type="track";var app={};app.save2pl={},app.save2pl.artist="",app.save2pl.track="",app.save2pl.album="",app.save2pl.image="",app.save2pl.id="",app.last_search="",app.country_code="us",app.lastest_searches=[];var first_time_load=!0;is_mobile&&(listen_click="click",listen_touch="touchstart"),$(window).load(function(){$(".play-1").trigger(listen_click)}),$(document).ready(function(){is_logged||player.clearPlaylist(),$("#player").show(),loading("hide"),$(".lazy").lazyload({container:$("#main"),threshold:20,effect:"fadeIn"}),$(".player-c").drags(),0==localStorage.getItem("showYoutube")&&$(".player-c").addClass("hidex"),gui.refresh_playlist(),$(document).on("page-loaded",function(t){t.preventDefault(),$(".lazy").lazyload({container:$("#main")}),$(".play-1").trigger(listen_click),$(".btn-now-playing").removeClass("active"),$(".btn-now-playing2").removeClass("active text-success")});var t=localStorage.getItem("playing_now");if(t){var a=JSON.parse(t);player.playlist=a,player.current=a[0],$("#count-now-playing").text(player.playlist.length)}$(document).on(listen_click,".btn-add-to-playlist",function(t){t.preventDefault();var a=$(this).attr("data-artist"),e=$(this).attr("data-track"),i=$(this).attr("data-album"),n=$(this).attr("data-image"),l=$(this).attr("data-type"),r=$(this).attr("data-id");a&&e&&(player.addtrack(a,e,i,n,l,!1,r),$("#menu-music").modal("hide"))}),$(document).on(listen_touch,".btn-toggle-youtube",function(t){t.preventDefault(),$(".player-c").toggleClass("hidex"),1==localStorage.getItem("showYoutube")?localStorage.showYoutube=0:localStorage.showYoutube=1}),$(document).on(listen_click,".btn-langs",function(t){t.preventDefault(),$("#modal-langs").modal("show")}),$(document).on(listen_click,".btn-buy",function(t){t.preventDefault();var a=$(this).attr("data-artist"),e=$(this).attr("data-track"),i=($(this).attr("data-album"),$(this).attr("data-image")),n=$(this).attr("data-title"),l=$(this).attr("data-type");$(this).attr("data-id"),$(this).attr("data-s");if($("#modal-buy .service").removeClass("hide"),"album"==l&&(e="",$("#modal-buy .service-youtube").addClass("hide"),$("#modal-buy .service-spotify").addClass("hide"),$("#modal-buy .service-soundcloud").addClass("hide")),a){var r="";!e&&n&&(e=n),e||(e=""),e&&(r=" - "),$("#modal-buy #d-title").text(a+r+e),$("#modal-buy #d-image").attr("src",i),$.each($("#modal-buy a"),function(t,i){$(this).attr("href",base_url+"d?artist="+a+"&track="+e+"&s1="+$(this).attr("data-s"))}),$("#modal-buy").modal("show")}}),$(document).on(listen_click,".btn-share",function(t){t.preventDefault();var a=$(this).attr("data-artist"),e=$(this).attr("data-track"),i=$(this).attr("data-album"),n=($(this).attr("data-image"),$(this).attr("data-type")),l=$(this).attr("data-title"),r=$(this).attr("data-name"),s=$(this).attr("data-subtitle"),o=$(this).attr("data-stationid"),c=$(this).attr("data-idplaylist");$(this).attr("data-id");return n?("station"==n&&(url=base_url+slug.station+"/-/"+encodeURIComponent(l)+"-"+o),"track"==n&&(url=base_url+slug.main+"/"+encodeURIComponent(a)+"/"+encodeURIComponent(i)+"/"+encodeURIComponent(e)),"album"==n&&(url=base_url+slug.main+"/"+encodeURIComponent(a)+"/"+encodeURIComponent(i)),"artist"==n&&(url=base_url+slug.main+"/"+encodeURIComponent(a)),"playlist"==n&&(url=base_url+slug.playlist+"/"+encodeURIComponent(r)+"-"+c),void(url?($("#modal-share input").attr("data-url",url),$("#modal-share .modal-title span").text(l+" - "+s),$("#modal-share").modal("show"),$("#autoplay").is(":checked")&&(url+="?play=1"),$("#modal-share input").val(url),setTimeout(function(){$("#modal-share input").select()},500)):alert("a"))):!1}),$("#autoplay").change(function(){var t=$("#modal-share input").attr("data-url");$(this).is(":checked")&&(t+="?play=1"),$("#modal-share input").val(t)}),$(document).on(listen_click,".btn-search",function(t){t.preventDefault();var a=$(this).attr("data-artist"),e=$(this).attr("data-track");a&&e&&app.search(a+" "+e)}),$(document).on(listen_click,".btn-share-link",function(t){t.preventDefault();var a=$(this).attr("href"),e=$("#modal-share input").val();return a=a.replace("{url}",encodeURIComponent(e)),PopupCenter(a,"share",500,350),!1}),$(document).on(listen_click,".btn-play-all",function(t){t.preventDefault(),player.clearPlaylist(),$(".btn-play:first").trigger(listen_click);$(".btn-add-to-playlist").trigger(listen_click)}),$(document).on(listen_click,".btn-play-append",function(t){t.preventDefault();$(".btn-add-to-playlist").trigger(listen_click);$(".btn-play:first").trigger(listen_click)}),$(document).on(listen_click,".btn-play-add",function(t){t.preventDefault();$(".btn-add-to-playlist").trigger(listen_click)}),$(document).on(listen_click,"#jp_poster",function(t){t.preventDefault(),console.log(player.current),"station"==player.current.type&&(url_track=base_url+slug.station+"/-/"+encodeURIComponent(player.current.track)+"-"+player.current.stationID,set_page(url_track))}),$(document).on(listen_click,".btn-clear-playlist",function(t){t.preventDefault(),bootbox.dialog({message:lang.label_message_clear_queue,title:lang.label_clear_playlist,buttons:{cancel:{label:lang.label_no,className:"btn-default",callback:function(){console.log("no")}},success:{label:lang.label_yes,className:"btn-danger",callback:function(){player.clearPlaylist()}}}})}),$(document).on(listen_click,".btn-show-video",function(t){t.preventDefault(),$("body").toggleClass("show-video"),$(this).hasClass("active")?localStorage.setItem("status_video",0):localStorage.setItem("status_video",1),$(this).toggleClass("active text-success")}),"0"==localStorage.getItem("status_video")&&(console.log("Coultar video"),$(".btn-show-video").trigger(listen_click)),$(document).on(listen_click,".btn-shuffle",function(t){t.preventDefault(),$(this).toggleClass("active text-success")}),$(document).on(listen_click,".btn-open-menu,.btn-menu-music",function(t){t.preventDefault(),$(this).trigger("contextmenu",t)}),$(document).on(listen_click,".btn-like",function(t){t.preventDefault();var a=$(this);$(this).removeClass("btn-like"),$("i",a).removeClass("zmdi"),$("i",a).removeClass("zmdi-favorite"),$("i",a).addClass("fa"),$("i",a).addClass("fa-circle-o-notch"),$("i",a).addClass("fa-spin");var e=a.attr("data-iduser"),i=a.attr("data-idtarget"),n=a.attr("data-type"),l=a.attr("data-unlike");l||(l=0);var r=base_url+"backend/like";$.post(r,{iduser:e,idtarget:i,type:n,unlike:l},function(t,e,i){a.parent().append(t.button),a.remove(),gui.get_like_button($(".target-like").attr("data-id"))},"json")}),$(document).on(listen_click,".link",function(t){t.preventDefault(),location.href=$(this).attr("data-href")}),$(document).on(listen_click,".btn-link",function(t){t.preventDefault(),window.self!==window.top?window.top.location.href=$(this).attr("data-href"):set_page($(this).attr("data-href"))}),$(document).on(listen_click,".btn-add-to",function(t){t.preventDefault(),gui.refresh_playlist(),$("#playlist-menu").addClass("show")}),$(document).on(listen_click,".btn-playlist-menu-hide",function(t){t.preventDefault(),$("#playlist-menu").removeClass("show")}),$(document).on(listen_click,".btn-to-favorite",function(t){t.preventDefault();var a=$(this).attr("data-id");if(!a)return alert("NO hay ID en favoritos"),!1;var e=$(this).attr("data-type"),i=base_url+"backend/like2";$.post(i,{id:a,type:e},function(t,a,e){gui.noty(t.title,t.subtitle,t.image),gui.get_like_button($(".target-like").attr("data-id"))},"json")}),$(document).on(listen_click,".btn-save-playlist",function(t){t.preventDefault();var a=$("#input-name-playlist").val();""!=jQuery.trim(a)&&gui.save_playlist(a)}),$(document).on(listen_click,".btn-new-playlist",function(t){t.preventDefault(),$("#modal-create-playlist").modal("show"),setTimeout(function(){$("#modal-create-playlist input").focus()},500)}),$(document).on(listen_click,".btn-edit-playlist",function(t){t.preventDefault();var a=$(this).attr("data-image"),e=$(this).attr("data-name"),i=$(this).attr("data-idplaylist");$("#modal-edit-playlist img").attr("src",a),$("#modal-edit-playlist input[name=name]").val(e),$("#modal-edit-playlist input[name=idplaylist]").val(i),$("#modal-edit-playlist").modal("show")}),$(document).on(listen_click,".btn-save-to-playlist",function(t){t.preventDefault();var a=$(this).attr("data-idplaylist"),e=$(this).attr("data-artist"),i=$(this).attr("data-track"),n=$(this).attr("data-album"),l=$(this).attr("data-image"),r=$(this).attr("data-id");gui.add2_playlist(a,e,i,n,l,r)}),$(document).on(listen_click,".btn-remove-from-playlist",function(t){t.preventDefault();var a=$(this).attr("data-idplaylist"),e=$(this).attr("data-artist"),i=$(this).attr("data-track"),n=$(this).attr("data-album"),l=$(this).attr("data-image"),r=$(this).attr("data-id");gui.remove_from_playlist(a,e,i,n,l,r)}),$(document).on(listen_click,".btn-remove-playlist",function(t){t.preventDefault();var a=$(this).attr("data-idplaylist");gui.remove_playlist(a)}),$(document).on(listen_click,".btn-upload-avatar",function(t){t.preventDefault(),$("#ImageBrowse").trigger("click")}),$(document).on("change","#ImageBrowse",function(t){t.preventDefault(),console.log("change"),$("#imageUploadForm").submit()}),$(document).on(listen_click,".btn-start-discover",function(t){var a=$(this).attr("data-artist");app.play_radio(a,1)}),$(document).on(listen_click,"#radio",function(t){bootbox.dialog({message:lang.label_close_radio,title:lang.label_discover_mode,buttons:{yes:{label:lang.label_yes,className:"btn-danger",callback:function(){$("#radio").removeClass("show")}}}})}),$(document).on("submit","#imageUploadForm",function(t){return t.preventDefault(),loading(),console.log("ssss"),$.ajax({url:base_url+"upload_avatar",type:"POST",data:new FormData(this),contentType:!1,cache:!1,dataType:"json",processData:!1,success:function(t){t.error?alert(t.error):$(".me-avatar").attr("src",t.avatar),set_page(location.pathname),current_page=""},error:function(){load_page(location.pathname),current_page=""}}),!1}),$(".input-search").focus(function(){$("#last-search").addClass("show")}),$(".input-search").focusout(function(){setTimeout(function(){$("#last-search").removeClass("show")},300)}),$(".input-search").keyup(function(t){var a=$(this).val();return a.length<=1?!1:void delay(function(){app.search(a)},1e3)}),$(".input-search").keypress(function(t){var a=$(this);if(13==t.which){var e=$(this).val();if(e.length<=2)return!1;app.search(e),setTimeout(function(){a.val("")},100)}}),$("#modal-create-playlist input").keypress(function(t){13==t.which&&""!=$(this).val()&&$(".btn-save-playlist").trigger(listen_click)}),$(document).on(listen_click,".btn-upload-cover-playlist",function(t){t.preventDefault(),$("#ImageBrowseCover").trigger(listen_click)}),$(document).on("submit","#imageUploadFormCover",function(t){return t.preventDefault(),loading(),$("#modal-edit-playlist").modal("hide"),console.log("ssss"),$.ajax({url:base_url+"backend/update_playlist",type:"POST",data:new FormData(this),contentType:!1,cache:!1,dataType:"json",processData:!1,success:function(t){t.error?alert(t.error):(current_page="",set_page(t.url),current_page=""),loading("hide")},error:function(){load_page(location.pathname),loading("hide")}}),!1}),$(document).on(listen_touch,".btn-play",function(t){t.preventDefault();var a=$(this).attr("data-artist"),e=$(this).attr("data-track"),i=$(this).attr("data-album"),n=$(this).attr("data-image"),l=($(this).attr("data-index"),$(this).attr("data-isPlaylist")),r=$(this).attr("data-type"),s=$(this).attr("data-id");if(r||(r="track"),player.type=r,$("table tr.track-"+s).addClass("active"),"station"==r){var o=$(this).attr("data-stationid");e=$(this).attr("data-name"),e||(e=$(this).attr("data-track")),a="-",i="-"}return a&&e?(console.log("PLAYYYY1"),player.status.paused&&(console.log("PLAYYYY2"),player.current.artist==a&&player.current.track==e)?(is_youtube?(console.log("Play YT"),yt_player_1.playVideo()):(console.log("PLAYYYY"),player.player.jPlayer("play")),!0):(player.play(a,e,n,i,l,r,o,s),!1)):void 0}),$(document).on(listen_click,".btn-pause",function(t){t.preventDefault(),is_youtube?yt_player_1.pauseVideo():player.player.jPlayer("pause")}),$(document).on("keyup",".filter input",function(t){t.preventDefault();var a=$(this).val(),e=$(".list-music");a?($("li.li",e).addClass("hide"),$("li.li:Contains("+a+")",$(e)).removeClass("hide")):$("li.li",e).removeClass("hide")}),$(document).on("keyup",".filter-generic input",function(t){t.preventDefault();var a=$(this).val(),e=$(".container-fluid");a?($(".filter-me",e).addClass("hide"),$(".filter-me:Contains("+a+")",$(e)).removeClass("hide")):$(".filter-me",e).removeClass("hide")}),jQuery.expr[":"].Contains=jQuery.expr.createPseudo(function(t){return function(a){return jQuery(a).text().toUpperCase().indexOf(t.toUpperCase())>=0}}),$(document).on(listen_touch,".menu-toggle",function(t){t.preventDefault(),$("#wrapper").toggleClass("toggled")}),$(document).on(listen_click,".btn-more-data",function(t){t.preventDefault(),$($(this).attr("data-target")).removeClass("more"),$(this).remove()}),$(document).on(listen_click,".tabs li",function(t){t.preventDefault();var a=$(this).attr("data-href");$(".tab.active").removeClass("active"),$(".tabs li.active").removeClass("active"),$(this).addClass("active"),$(a).addClass("active"),$(a).scroll()}),$(document).on(listen_click,".tabs-ajax li",function(t){t.preventDefault();var a=$(this).attr("data-href"),e=$(this).attr("data-method");return e&&a?($(".tabs-ajax li.active").removeClass("active"),$(this).addClass("active"),url=base_url+"backend/"+e,$(a).empty(),loading(),void $.get(url,function(t){$(a).html(t),loading("hide"),$(document).trigger("page-loaded")})):!1}),$(document).on(listen_click,".link-tab",function(t){t.preventDefault();var a=$(this).attr("data-href");$('.tabs li[data-href="'+a+'"]').trigger(listen_click)}),$(document).on(listen_click,".btn-remove-item",function(t){t.preventDefault(),player.deltrack($(this).attr("data-index"))}),$(document).on(listen_click,".btn-now-playing2",function(t){t.preventDefault(),$(this).hasClass("active")?load_page(location.pathname):$(".btn-now-playing").trigger(listen_click),$(this).toggleClass("active text-success")}),$(document).on(listen_click,".btn-lyric, .btn-track",function(t){t.preventDefault();var a=base_url+slug.main+"/"+player.current.artist+"/"+player.current.album+"/"+player.current.track;if("station"==player.current.type)var a=base_url+"?s="+$(".jp-artist").text()+" "+$(".jp-title").text();set_page(a)}),$(document).on(listen_click,".btn-artist",function(t){t.preventDefault();var a=base_url+slug.main+"/"+player.current.artist;return"station"==player.current.type?!1:void set_page(a)}),$(document).on(listen_click,".btn-now-playing",function(t){if(t.preventDefault(),app.last_search="",current_page="",$("#wrapper").removeClass("toggled"),$("#wrapper").removeClass("player-active"),$("#main .c-m").empty(),0==player.playlist.length)return $("#main .c-m").append("<div class='error'>                               <h1 style='font-size:90px'><i class='zmdi zmdi-collection-music'></i></h1>                               <h2>"+lang.label_library_empty+"</h2>                               <p>"+lang.label_library_empty_description+"</p>                           </div>"),!1;var a=$("<table class='table table-hover now-playing'></table>");a.append('<thead>                     <tr>                       <th class="control"></th>                        <th class="track title">'+lang.label_track+'</th>                       <th class="artist title">'+lang.label_artist+'</th>                       <th class="album title">'+lang.label_album+"</th>                       </tr>                     </thead>                   <tbody>"),$("#main .c-m").append("<div class='pd' style='padding:20px'></div>"),$.each(player.playlist,function(t,e){if(e.track)if($('tr[data-id="'+e.id+'"]',a).length)player.deltrack(t);else{var i=base_url+slug.main+"/"+encodeURIComponent(e.artist)+"/"+encodeURIComponent(e.album)+"/"+encodeURIComponent(e.track),n=base_url+slug.main+"/"+encodeURIComponent(e.artist),l=base_url+slug.main+"/"+encodeURIComponent(e.artist)+"/"+encodeURIComponent(e.album);"station"==e.type&&(console.log(e),e.id=e.stationID,e.artist=lang.label_station,n="#",i=base_url+slug.station+"/-/"+encodeURIComponent(e.track)+"-"+e.stationID),"audio"==e.type&&(e.type="track;"),"-"!=e.artist&&""!=e.artist||(n="#"),"-"!=e.album&&""!=e.album||(l="#"),"-"!=e.track&&""!=e.track||(i="#"),a.append('<tr  class="filter-me contextMenu track-'+e.id+'" data-index="'+t+'" data-track="'+e.track+'" data-id="'+e.id+'" data-subtitle="'+e.track+'" data-title="'+e.artist+'" data-artist="'+e.artist+'" data-album="'+e.album+'" data-image="'+e.image+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'">                           <td class="control title">                               <i class="zmdi btn-play  zmdi-play-circle-outline" data-isPlaylist="true" data-id="'+e.id+'" data-index="'+t+'" data-track="'+e.track+'" data-album="'+e.album+'" data-artist="'+e.artist+'" data-image="'+e.image+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'"></i>                               <i class="zmdi btn-pause  zmdi-pause-circle-outline" data-isPlaylist="true" data-id="'+e.id+'" data-index="'+t+'" data-track="'+e.track+'" data-album="'+e.album+'" data-artist="'+e.artist+'" data-image="'+e.image+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'"></i>                               <i class="zmdi contextMenu no-close btn-open-menu zmdi-plus" data-isPlaylist="true" data-id="'+e.id+'" data-index="'+t+'" data-track="'+e.track+'" data-album="'+e.album+'" data-artist="'+e.artist+'" data-image="'+e.image+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'"></i>                          </td>                           <td class="track title" data-id="'+e.id+'" data-index="'+t+'" data-track="'+e.track+'" data-artist="'+e.artist+'" data-album="'+e.album+'" data-image="'+e.image+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'"><a href="'+i+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'">'+e.track+'</a></td>                           <td class="artist title" data-id="'+e.id+'" data-index="'+t+'" data-track="'+e.track+'" data-artist="'+e.artist+'" data-album="'+e.album+'" data-image="'+e.image+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'" ><a href="'+n+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'">'+e.artist+'</a></td>                           <td class="album title" data-id="'+e.id+'" data-index="'+t+'" data-track="'+e.track+'" data-artist="'+e.artist+'" data-album="'+e.album+'" data-image="'+e.image+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'">                             <a href="'+l+'" data-id="'+e.id+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'">'+e.album+'</a>                              <div class="trg btn-group" >                               <i class="cursor-pointer zmdi btn-remove-item  zmdi-close" data-isPlaylist="true" data-id="'+e.id+'" data-index="'+t+'" data-track="'+e.track+'" data-album="'+e.album+'" data-artist="'+e.artist+'" data-image="'+e.image+'" data-type="'+e.type+'" data-stationid="'+e.stationID+'"></i>                             </div>                             </td>                       </tr>'),$("#main .c-m div.pd").append(a)}}),$("#main .c-m div.pd").prepend('<br><br><div class="col-md-8">                                       <a class="btn btn-danger btn-clear-playlist"><i class="zmdi zmdi-delete"></i> '+lang.label_clear_playlist+'</a>                                     </div>                                   <div class="col-md-4 filter-generic">                                     <input type="search"  class="form-control" placeholder="'+lang.label_filter+'">                                   </div><div class="clearfix"></div><br><br>'),contextMenu_init()}),$(document).on(listen_click,".btn-current",function(t){t.preventDefault(),$("#jp-float").toggleClass("show")}),$(document).on(listen_click,".jp-next",function(t){t.preventDefault(),player.playNext()}),$(document).on(listen_click,".jp-previous",function(t){t.preventDefault(),player.playPrevious()}),$(document).on(listen_click,".btn-player",function(t){t.preventDefault(),$("#wrapper").toggleClass("player-active"),$("#wrapper").removeClass("toggled")}),$(document).on(listen_touch,".overlay",function(t){t.preventDefault(),$("#wrapper").removeClass("toggled"),$("#wrapper").removeClass("player-active")}),$(document).on(listen_click,".player .header",function(t){t.preventDefault(),$("#wrapper").removeClass("player-active")}),$(document).on(listen_click,".sidebar-nav li",function(t){t.preventDefault(),$(".sidebar-nav li").removeClass("active"),$(this).addClass("active")}),$(document).on(listen_touch,".btn-menu-music",function(t){$(this).attr("data-title")&&$(this).attr("data-subtitle")&&($("#menu-music h2").text($(this).attr("data-title")),$("#menu-music h3").text($(this).attr("data-subtitle")),$("#menu-music .btn-play,#menu-music a").attr("data-track",$(this).attr("data-track")),$("#menu-music .btn-play,#menu-music a").attr("data-artist",$(this).attr("data-artist")),$("#menu-music .btn-play,#menu-music a").attr("data-image",$(this).attr("data-image")),$("#menu-music .btn-play,#menu-music a").attr("data-album",$(this).attr("data-album")),$("#menu-music .btn-play,#menu-music a").attr("data-type",$(this).attr("data-type")),$("#menu-music .btn-play,#menu-music a").attr("data-id",$(this).attr("data-id")),$("#menu-music .list-group a").addClass("hide"),$("#menu-music .only-"+$(this).attr("data-type")).removeClass("hide"),$("#menu-music .only-all").removeClass("hide"),$("#menu-music .image").css("background-image","url("+$(this).attr("data-image")+")"),app.save2pl.artist=$(this).attr("data-artist"),app.save2pl.track=$(this).attr("data-track"),app.save2pl.album=$(this).attr("data-album"),app.save2pl.image=$(this).attr("data-image"),app.save2pl.id=$(this).attr("data-id"),$("#menu-music").addClass("show center"))}),$(document).on(listen_click,"a",function(t){var a=$(this).attr("href");return _log(a),a?void($(this).hasClass("exclude")?$(this).hasClass("external")||(document.location=a):a.indexOf("#")<0?(set_page(a),t.preventDefault()):t.preventDefault()):!1}),$(window).scroll(function(){var t=$(window).scrollTop();""==temp_title&&(temp_title=$(".navbar-title").text(),console.log(temp_title)),t>200?$(".float-title span.t").length&&$(".navbar-title").text($(".float-title span.t").text()):$(".navbar-title").text(temp_title)}),window.addEventListener("popstate",function(t){load_page(location.href)})});var hxr_load=!1,current_page="";errors_radio=0,app.play_radio=function(t,a){if(!t||"-"==t)return $("#radio").removeClass("show"),!1;a||(a=0),$("#radio .loading").addClass("show");var e=$("#radio");contextMenu_init(),e.addClass("show"),url=base_url+"backend/radio",$.post(url,{a:"get_track",artist:t,start:a},function(a,i,n){void 0==a||null==a.artist||"null"==a.artist&&errors_radio<=5?(console.log("Radio return NULL Tring again..."),errors_radio++,app.play_radio(t)):(player.play(a.artist,a.track,a.image,a.album,!1,"track",!1,a.id),$("#radio .loading").removeClass("show"),e.attr("data-artist",a.artist),e.attr("data-image",a.image),e.attr("data-track",a.track),e.attr("data-id",a.id),e.attr("data-type","track"),errors_radio=0),errors_radio>=5&&$("#radio").removeClass("show")},"json")},app.search=function(t){app.last_search!=t&&(set_page(base_url+"?s="+t),app.last_search=t,app.save_search(t))},app.save_search=function(t){var a=t;app.lastest_searches||(app.lastest_searches=[]),$.each(app.lastest_searches,function(a,e){console.log(a),e&&(e.str==t||a>3)&&app.lastest_searches.remove(a)}),app.lastest_searches.unshift(a),localStorage.setItem("last_search",JSON.stringify(app.lastest_searches)),app.render_search()},app.render_search=function(){var t=localStorage.getItem("last_search");if(""!=t){var a=JSON.parse(t);app.lastest_searches=a}return app.lastest_searches?($("#last-search span").html(""),void $.each(app.lastest_searches,function(t,a){var e='<li class="main truncate">                 <a class="truncate" href="'+base_url+"?s="+a.str+'"><i class="zmdi zmdi-search-for"></i> '+a.str+"</a>               </li>";$("#last-search span").append(e)})):!1},Array.prototype.remove=function(t){this.splice(t,1)},player.addtrack=function(t,a,e,i,n,l,r){if(!n)return console.log("error jodacame type"),!1;var s=!1;if($.each(player.playlist,function(t,a){return a.id==r?(s=!0,!1):void 0}),s)return!1;var o={artist:t,track:a,album:e,image:i,type:n,stationID:l,id:r};player.playlist.push(o),app.cache_playlist(),$(".btn-now-playing").hasClass("active")&&$(".btn-now-playing").trigger(listen_click),gui.noty(a,lang.label_added,i),$("#count-now-playing").addClass("animation").delay(300).queue(function(){$(this).removeClass("animation").dequeue()})},app.cache_playlist=function(){try{$("#count-now-playing").text(player.playlist.length),localStorage.setItem("playing_now",JSON.stringify(player.playlist))}catch(t){}},player.deltrack=function(t){console.log(t),console.log(player.playlist[t]),player.playlist.remove(t),app.cache_playlist(),$(".btn-now-playing").hasClass("active")&&$(".btn-now-playing").trigger(listen_click)},player.clearPlaylist=function(){player.playlist=[],$(".btn-now-playing").hasClass("active")&&$(".btn-now-playing").trigger(listen_click),app.cache_playlist()},player.set_media=function(t,a,e,i,n,l,r,s){$(".loading-streaming").removeClass("hide"),player.type=l;var o=base_url+"streaming/index?artist="+t+"&track="+a+"&type="+l+"&stationID="+r,c=!1;$.post(o,!1,function(n){if($(".player-c").css("background-image","url("+e+")"),"youtube"==n.source&&"station"!=player.type){c=!0;try{player.player.jPlayer("stop")}catch(o){}$(".btn-show-video").removeClass("hide"),$(".player-c").removeClass("hide"),loadVideo(n.id)}else $(".player-c").addClass("hide"),n.stream&&($(".btn-show-video").addClass("hide"),$(".btn-show-video").hasClass("text-success")&&$(".btn-show-video").trigger(listen_click),is_youtube&&stopYoutube(),player.player.jPlayer("setMedia",{title:a,artist:t,mp3:n.stream,webm:n.stream,m4a:n.stream,poster:e}).jPlayer("play"),$(".jp-title").text(a),$(".jp-artist").text(t),$("#jp_poster").attr("src",e));"station"!=player.type?(player.set_history(t,i,a,e,s),$(".info-source").html('<i title="Powered by '+n.source+'" class="fa fa-'+n.source+'"></i>')):$(".info-source").html('<i class="zmdi zmdi-portable-wifi"></i>'),player.current={artist:t,track:a,image:e,album:i,type:l,stationID:r,id:s,source:n.source},"track"!=player.type&&$("#radio").removeClass("show"),"station"==player.type&&player.station.get_info(),gui.get_like_button(s),$(".loading-streaming").addClass("hide"),n.stream||"youtube"==n.source||"station"==player.type||(console.info("Stream no found!"),setTimeout(function(){player.playNext()},2e3))},"json"),yt_player_1.playVideo()},player.play=function(t,a,e,i,n,l,r,s){"station"==l&&(s=r),l||(l="track"),n||player.addtrack(t,a,i,e,l,r,s),player.set_media(t,a,e,i,n,l,r,s)},player.playNext=function(){if($("#radio").hasClass("show"))return console.log("Radio - "+player.current.artist),app.play_radio(player.current.artist),!1;var t=player.get_next();return t?(console.log("Next"),console.log(t),void player.set_media(t.artist,t.track,t.image,t.album,!1,t.type,t.stationID,t.id)):($(".loading-streaming").removeClass("hide"),!1)},player.playPrevious=function(){var t=player.get_previous();return t?(player.set_media(t.artist,t.track,t.image,t.album,!1,t.type,t.stationID,t.id),void console.log("Play previous")):!1},player._paused=function(){player.status.paused=!0,$("table tr."+player.current.id).addClass("paused")},player._play=function(){player.status.paused=!1,$("table tr").removeClass("paused")},player.get_next=function(){var t=!1,a=0;return $.each(player.playlist,function(t,e){return e.id==player.current.id?(a=t,console.log("encontrado"),console.log(a),!1):void 0}),$(".btn-shuffle").hasClass("active")&&(rand=Math.floor(Math.random()*player.playlist.length+1),rand==a&&(rand=Math.floor(Math.random()*player.playlist.length+1)),a=rand),a+=1,t=player.playlist[a],console.log(player.playlist),t||(t=player.playlist[0]),t},player.get_previous=function(){var t=!1,a=0;return $.each(player.playlist,function(t,e){return console.log(e.track),e.id==player.current.id?(a=t,!1):void 0}),a-=1,0>a&&(a=player.playlist.length-1),t=player.playlist[a],t||(t=player.playlist[0]),t},player.update=function(){try{player.current.artist&&($("table tr").removeClass("active"),$("table tr.track-"+player.current.id).addClass("active"))}catch(t){}if("station"==player.type)"1"==settings.show_video,
1,$(".progress-seek").addClass("hide"),$(".jp-duration").text("LIVE");else{$(".progress-seek").removeClass("hide"),"1"==settings.show_video,1;try{$(".jp-title").text(player.current.track),$(".jp-artist").text(player.current.artist),$("#jp_poster").attr("src",player.current.image),$(".jp-details-current").attr("data-id",player.current.id),$(".jp-details-current").attr("data-artist",player.current.artist),$(".jp-details-current").attr("data-album",player.current.album),$(".jp-details-current").attr("data-track",player.current.track),$(".jp-details-current").attr("data-title",player.current.artist),$(".jp-details-current").attr("data-subtitle",player.current.track),$(".jp-details-current").attr("data-image",player.current.image)}catch(t){}}setTimeout(function(){player.update()},100)},player.update(),player.set_history=function(t,a,e,i,n){if(!is_logged)return!1;var l=base_url+"backend/set_history";$.post(l,{artist:t,track:e,album:a,image:i,id:n},function(t,a,e){})},player.station.get_info=function(){var t=base_url+"streaming/get_info?id="+player.current.stationID;$.getJSON(t,!1,function(t,a,e){player.station.current=t,player.station.get_current()})},player.station.get_current=function(){"station"==player.type&&player.station.current&&($(".loading-streaming").removeClass("hide"),url=base_url+"streaming/get_current",$.post(url,player.station.current,function(t,a,e){$(".loading-streaming").addClass("hide"),$("#station-page").length>0&&(load_page(location.pathname),current_page=""),t.callmeback>0&&($(".jp-title").text(t.track),$(".jp-artist").text(t.artist),clearTimeout(player.station.timemout),player.station.timemout=setTimeout(function(){player.station.get_current()},t.callmeback))},"json"))},window.onbeforeunload=function(){return 1==getPlayerState()?lang.msg_exit_page:void 0},gui.get_like_button=function(t){if(console.log(player.current),!t||!is_logged||"station"==player.current.type)return $(".target-like").html(""),!1;var a=base_url+"backend/get_like_button";$(".target-like .btn").removeClass("btn-like"),$(".target-like").removeAttr("data-id"),$.post(a,{id:t},function(a,e,i){$(".target-like").html(a),$(".target-like").attr("data-id",t)})},gui.refresh_playlist=function(){var t=base_url+"backend/get_playlists",a=$(".playlist-target"),e=$(".btn-playlist-menu-hide").attr("data-artist"),i=$(".btn-playlist-menu-hide").attr("data-track"),n=$(".btn-playlist-menu-hide").attr("data-album"),l=$(".btn-playlist-menu-hide").attr("data-image"),r=$(".btn-playlist-menu-hide").attr("data-id");a.empty(),$.getJSON(t,!1,function(t,s){$.each(t,function(t,s){a.append('<a data-id="'+r+'" data-track="'+i+'" data-artist="'+e+'" data-album="'+n+'" data-image="'+l+'" class="truncate list-group-item only-track  btn-save-to-playlist" data-idplaylist="'+s.idplaylist+'" href="#"><i class="zmdi zmdi-playlist-plus"></i>'+s.name+"</a>")})})},gui.save_playlist=function(t){loading(),$("#modal-create-playlist").modal("hide");var a=base_url+"backend/set_playlist";console.log(app.save2pl),$.post(a,{name:t},function(t,e,i){$("#open-playlist-page").length>0&&(current_page="",load_page(location.pathname)),gui.refresh_playlist(),$("#modal-create-playlist input").val(""),console.log(app.save2pl),""!=app.save2pl.artist&&""!=app.save2pl.track?(console.log(app.save2pl),gui.noty(app.save2pl.track,lang.label_added_to_playlist,app.save2pl.image),$.post(a,{idplaylist:t.id,artist:app.save2pl.artist,track:app.save2pl.track,album:app.save2pl.album,image:app.save2pl.image,id:app.save2pl.id},function(t,a,e){app.save2pl.artist="",app.save2pl.track="",app.save2pl.album="",app.save2pl.image="",app.save2pl.id="",loading("hide")},"json")):($("#modal-create-playlist").modal("hide"),loading("hide"))},"json")},gui.add2_playlist=function(t,a,e,i,n,l){gui.noty(e,lang.label_added_to_playlist,n);var r=base_url+"backend/set_playlist";$.post(r,{idplaylist:t,artist:a,track:e,album:i,image:n,id:l},function(t,a,e){app.save2pl.artist="",app.save2pl.track="",app.save2pl.album="",app.save2pl.image="",app.save2pl.id=""},"json")},gui.remove_from_playlist=function(t,a,e,i,n,l){var r=base_url+"backend/set_playlist";$.post(r,{acc:"r",idplaylist:t,artist:a,track:e,album:i,image:n,id:l},function(t,a,e){app.save2pl.artist="",app.save2pl.track="",app.save2pl.album="",app.save2pl.image="",app.save2pl.id="",load_page(location.pathname)},"json")},gui.remove_playlist=function(t){bootbox.dialog({message:lang.msg_remove_playlist,title:lang.label_remove_playlist,buttons:{success:{label:lang.label_yes,className:"btn-success",callback:function(){var a=base_url+"backend/set_playlist";$.post(a,{acc:"r",idplaylist:t},function(t,a,e){set_page(base_url+slug.my_playlist)},"json")}},danger:{label:lang.label_no,className:"btn-danger",callback:function(){console.log("No!")}}}})},gui.noty=function(t,a,e){$("#noty strong").text(t),$("#noty span").text(a),$("#noty img").attr("src",e),$("#noty").addClass("show").delay(2e3).queue(function(){$(this).removeClass("show").dequeue()})},$(function(){function t(){var t=$(this),a=t.find(".modal-dialog");t.css("display","block"),a.css("margin-top",Math.max(0,($(window).height()-a.height())/2))}$(".modal").on("show.bs.modal",t),$(window).on("resize",function(){$(".modal:visible").each(t)})}),function(){"use strict";function t(a,i){function n(t,a){return function(){return t.apply(a,arguments)}}var l;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=a,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(a)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,o=0,c=r.length;c>o;o++)s[r[o]]=n(s[r[o]],s);e&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(t,e,i){var n=Node.prototype.removeEventListener;"click"===t?n.call(a,t,e.hijacked||e,i):n.call(a,t,e,i)},a.addEventListener=function(t,e,i){var n=Node.prototype.addEventListener;"click"===t?n.call(a,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),i):n.call(a,t,e,i)}),"function"==typeof a.onclick&&(l=a.onclick,a.addEventListener("click",function(t){l(t)},!1),a.onclick=null)}}var a=navigator.userAgent.indexOf("Windows Phone")>=0,e=navigator.userAgent.indexOf("Android")>0&&!a,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!a,n=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=i&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),r=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!e;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,a){var e,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=a.changedTouches[0],e=document.createEvent("MouseEvents"),e.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.forwardedTouchEvent=!0,t.dispatchEvent(e)},t.prototype.determineEventType=function(t){return e&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var a;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(a=t.value.length,t.setSelectionRange(a,a)):t.focus()},t.prototype.updateScrollParent=function(t){var a,e;if(a=t.fastClickScrollParent,!a||!a.contains(t)){e=t;do{if(e.scrollHeight>e.offsetHeight){a=e,t.fastClickScrollParent=e;break}e=e.parentElement}while(e)}a&&(a.fastClickLastScrollTop=a.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var a,e,l;if(t.targetTouches.length>1)return!0;if(a=this.getTargetElementFromEventTarget(t.target),e=t.targetTouches[0],i){if(l=window.getSelection(),l.rangeCount&&!l.isCollapsed)return!0;if(!n){if(e.identifier&&e.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=e.identifier,this.updateScrollParent(a)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=a,this.touchStartX=e.pageX,this.touchStartY=e.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var a=t.changedTouches[0],e=this.touchBoundary;return Math.abs(a.pageX-this.touchStartX)>e||Math.abs(a.pageY-this.touchStartY)>e},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var a,r,s,o,c,d=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(c=t.changedTouches[0],d=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=d.tagName.toLowerCase(),"label"===s){if(a=this.findControl(d)){if(this.focus(d),e)return!1;d=a}}else if(this.needsFocus(d))return t.timeStamp-r>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,t),i&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return i&&!n&&(o=d.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(d)||(t.preventDefault(),this.sendClick(d,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var a;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(a=this.onMouse(t),a||(this.targetElement=null),a)},t.prototype.destroy=function(){var t=this.layer;e&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var a,i,n;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!e)return!0;if(a=document.querySelector("meta[name=viewport]")){if(-1!==a.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),n[1]>=10&&n[2]>=3&&(a=document.querySelector("meta[name=viewport]")))){if(-1!==a.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction?!0:"none"===t.style.touchAction},t.attach=function(a,e){return new t(a,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),window.addEventListener("load",function(){FastClick.attach(document.body)},!1);var delay=function(){var t=0;return function(a,e){clearTimeout(t),t=setTimeout(a,e)}}();loadCSS("//fonts.googleapis.com/css?family=RobotoDraft:300,400,500,600,700"),loadCSS("//cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css"),loadCSS("//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"),loadCSS(base_url+"assets/css/animations.css"),localStorage.playerTOP&&($(".player-c").css("top",localStorage.playerTOP+"px"),$(".player-c").css("left",localStorage.playerLEFT+"px")),function(t){t.fn.drags=function(a){a=t.extend({handle:"",cursor:"move",draggableClass:"draggable",activeHandleClass:"active-handle"},a);var e=null,i=""===a.handle?this:this.find(a.handle);return i.css("cursor",a.cursor).on("mousedown",function(i){""===a.handle?(e=t(this),e.addClass(a.draggableClass)):(e=t(this).parent(),e.addClass(a.draggableClass).find(a.handle).addClass(a.activeHandleClass));var n=e.outerHeight(),l=e.outerWidth(),r=e.offset().top+n-i.pageY,s=e.offset().left+l-i.pageX;t(document).on("mousemove",function(t){e.offset({top:t.pageY+r-n,left:t.pageX+s-l})}).on("mouseup",function(){t(this).off("mousemove"),null!==e&&(e.removeClass(a.draggableClass),e=null)}),i.preventDefault()}).on("mouseup",function(){""===a.handle?e.removeClass(a.draggableClass):e.removeClass(a.draggableClass).find(a.handle).removeClass(a.activeHandleClass),localStorage.playerTOP=e.position().top,localStorage.playerLEFT=e.position().left,e=null}),this}}(jQuery);